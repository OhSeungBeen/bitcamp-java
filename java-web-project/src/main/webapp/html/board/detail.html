<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>게시물 조회</title>
  <link rel="stylesheet" href="/java-web-project/node_modules/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="/java-web-project/css/common.css">


</head>
<body>

<header>
</header>



<div class="container">
<h1>게시물 조회2</h1>
<form action='update' method='post'>
  <div class="form-group row">
    <label for="no" class="col-sm-2 col-form-label">번호</label>
    <div class="col-sm-10">
      <input type="text" class="form-control-plaintext" id="no" 
             name='no' value='' readonly>
    </div>
  </div>
  <div class="form-group row">
    <label for="contents" class="col-sm-2 col-form-label">내용</label>
    <div class="col-sm-8">
      <textarea class="form-control" id="contents" 
                name='contents' rows='5'></textarea>
    </div>
  </div>
  <div class="form-group row">
    <label for="createdDate" class="col-sm-2 col-form-label">작성일</label>
    <div class="col-sm-10">
      <input type="text" readonly class="form-control-plaintext" 
          id="createdDate" value="">
    </div>
  </div>
  <div class="form-group row">
    <label for="viewCount" class="col-sm-2 col-form-label">조회수</label>
    <div class="col-sm-10">
      <input type="text" readonly class="form-control-plaintext" 
          id="viewCount" value="">
    </div>
  </div>
  <div class="form-group row">
    <div class="col-sm-10">
      <a class="btn btn-primary" href='.'>목록</a> 
      <a class="btn btn-primary" href='delete/130'>삭제</a> 
      <button class="btn btn-primary">변경</button>
    </div>
  </div>
  
  </form>
</div><!-- .container -->

<script src="/java-web-project/node_modules/jquery/dist/jquery.slim.min.js"></script>
<script src="/java-web-project/node_modules/popper.js/dist/popper.min.js" ></script>
<script src="/java-web-project/node_modules/bootstrap/dist/js/bootstrap.min.js" ></script>

<script>
var header = document.querySelector('body > header'),
    no = document.querySelector('#no');
    contents = document.querySelector('#contents');
    createdDate = document.querySelector('#createdDate');
    viewCount = document.querySelector('#viewCount');

(function() {
  var xhr = new XMLHttpRequest();
  xhr.onreadystatechange = function() {
    if(xhr.readyState !=4 && xhr.status !=200)
      return;
    header.innerHTML = xhr.responseText;
    
  };
  xhr.open('Get','../header.html',true);
  xhr.send();
})();

(function() {
  var xhr = new XMLHttpRequest();
  xhr.onreadystatechange = function() {
    if(xhr.readyState !=4 && xhr.status !=200)
      return;
    var obj = JSON.parse(xhr.responseText);
    console.log(obj.contents);
    contents.innerHTML = obj.contents;
    no.value = obj.no;
    createdDate.value = obj.createdDate;
    viewCount.value = obj.viewCount
  };
  xhr.open('GET', 
          '../../app/json/board/detail?no=130', 
          true);
  xhr.send();
})();

</script>

</body>
</html>






